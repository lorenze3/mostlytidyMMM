---
title: "Hyperparameter and Formula Search"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{hyperparameter-and-formula-search}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(mostlytidyMMM)
```

<!-- WARNING - This vignette is generated by {fusen} from dev/flat_dev-hyperparameterand-formula-search.Rmd: do not edit by hand -->

# Setting Up a Hyper-Parameter Search by Media Channel

A key feature of the package is the ability to set a range of adstock and saturation parameter values by media channel.

This is handled by assigning role2 values to variables in the var_control tab


```{r examples-dev_hyperparameterand_formula_search_rmd}

suppressMessages(suppressWarnings(library(recipes)))
suppressMessages(suppressWarnings(library(tune)))
suppressMessages(suppressWarnings(library(dials)))
suppressMessages(suppressWarnings(library(tidyverse)))
suppressMessages(suppressWarnings(library(mostlytidyMMM)))

#get the control file:
control_file<-system.file('example model control.xlsx',package='mostlytidyMMM')
#get each relevant table of the control file:
var_controls<-readxl::read_xlsx(control_file,'variables')
transform_controls<-readxl::read_xlsx(control_file,'role controls')
workflow_controls<-readxl::read_xlsx(control_file,"workflow") |> select(-desc)

```

